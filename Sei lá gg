local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local StarterGui = LocalPlayer:WaitForChild("PlayerGui")

local gui = Instance.new("ScreenGui", StarterGui)
gui.Name = "Pel√©Hub"
gui.ResetOnSpawn = false

local frame = Instance.new("ScrollingFrame", gui)
frame.Size = UDim2.new(0, 260, 0, 370)
frame.Position = UDim2.new(0.5, -130, 0.5, -185)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.ScrollBarThickness = 6
frame.AutomaticCanvasSize = Enum.AutomaticSize.Y
frame.ScrollingDirection = Enum.ScrollingDirection.Y
frame.VerticalScrollBarInset = Enum.ScrollBarInset.ScrollBar
frame.ClipsDescendants = true

-- üåà Borda animada rainbow
local stroke = Instance.new("UIStroke", frame)
stroke.Thickness = 3
stroke.Transparency = 0
local corner = Instance.new("UICorner", frame)
corner.CornerRadius = UDim.new(0, 12)

local rainbowColors = {
    Color3.fromRGB(255,0,0), Color3.fromRGB(255,127,0),
    Color3.fromRGB(255,255,0), Color3.fromRGB(0,255,0),
    Color3.fromRGB(0,255,255), Color3.fromRGB(0,0,255),
    Color3.fromRGB(139,0,255), Color3.fromRGB(255,0,127),
}
local idx = 1
task.spawn(function()
    while true do
        stroke.Color = rainbowColors[idx]
        idx = idx % #rainbowColors + 1
        wait(0.1)
    end
end)

-- T√≠tulo
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 40)
title.Text = "Pel√© Hub V1.5 üëë"
title.Font = Enum.Font.SourceSansBold
title.TextSize = 24
title.TextColor3 = Color3.new(1,1,1)
title.BackgroundTransparency = 1
title.Position = UDim2.new(0, 0, 0, 0)

-- √Årea de arraste
local dragArea = Instance.new("Frame", frame)
dragArea.Size = UDim2.new(1, -40, 0, 40)
dragArea.Position = UDim2.new(0, 0, 0, 0)
dragArea.BackgroundTransparency = 1
dragArea.ZIndex = 2

local dragging, dragInput, mousePos, framePos
dragArea.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        mousePos = input.Position
        framePos = frame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then dragging = false end
        end)
    end
end)
dragArea.InputChanged:Connect(function(input) dragInput = input end)
UserInputService.InputChanged:Connect(function(input)
    if dragging and input == dragInput then
        local delta = input.Position - mousePos
        frame.Position = UDim2.new(
            framePos.X.Scale, framePos.X.Offset + delta.X,
            framePos.Y.Scale, framePos.Y.Offset + delta.Y
        )
    end
end)

-- Minimizar
local minimizeButton = Instance.new("TextButton", frame)
minimizeButton.Size = UDim2.new(0, 35, 0, 30)
minimizeButton.Position = UDim2.new(1, -40, 0, 5)
minimizeButton.Text = "_"
minimizeButton.Font = Enum.Font.SourceSansBold
minimizeButton.TextSize = 18
minimizeButton.TextColor3 = Color3.new(1,1,1)
minimizeButton.BackgroundColor3 = Color3.fromRGB(80,80,80)

minimizeButton.MouseButton1Click:Connect(function()
    frame.Visible = false
    local restoreBtn = Instance.new("TextButton", gui)
    restoreBtn.Size = UDim2.new(0, 50, 0, 50)
    restoreBtn.Position = UDim2.new(0, 35, 0, 35)
    restoreBtn.Text = "üëë"
    restoreBtn.Font = Enum.Font.SourceSansBold
    restoreBtn.TextSize = 24
    restoreBtn.TextColor3 = Color3.new(1,1,1)
    restoreBtn.BackgroundColor3 = Color3.fromRGB(0,128,255)
    restoreBtn.BorderSizePixel = 0
    Instance.new("UICorner", restoreBtn).CornerRadius = UDim.new(0, 999)

    local dragging, dragInput, mousePos, framePos
    restoreBtn.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            mousePos = input.Position
            framePos = restoreBtn.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then dragging = false end
            end)
        end
    end)
    restoreBtn.InputChanged:Connect(function(input) dragInput = input end)
    UserInputService.InputChanged:Connect(function(input)
        if dragging and input == dragInput then
            local delta = input.Position - mousePos
            restoreBtn.Position = UDim2.new(
                framePos.X.Scale, framePos.X.Offset + delta.X,
                framePos.Y.Scale, framePos.Y.Offset + delta.Y
            )
        end
    end)

    restoreBtn.MouseButton1Click:Connect(function()
        frame.Visible = true
        restoreBtn:Destroy()
    end)
end)

-- üîò Bot√µes interativos
local y = 45
local function createToggle(name, callback)
    local btn = Instance.new("TextButton", frame)
    btn.Size = UDim2.new(0, 220, 0, 35)
    btn.Position = UDim2.new(0, 20, 0, y)
    btn.Text = name .. " [OFF]"
    btn.Font = Enum.Font.SourceSansBold
    btn.TextSize = 20
    btn.TextColor3 = Color3.new(1,1,1)
    btn.BackgroundColor3 = Color3.fromRGB(255,0,0)
    y = y + 40

    local active = false
    btn.MouseButton1Click:Connect(function()
        active = not active
        btn.Text = name .. " [" .. (active and "ON" or "OFF") .. "]"
        btn.BackgroundColor3 = active and Color3.fromRGB(0,255,128) or Color3.fromRGB(255,0,0)
        callback(active)
    end)
end

-- üí• GodMode com revers√£o
local godConnection = nil
createToggle("GodMode", function(state)
    local hum = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
    if hum then
        hum.Health = math.huge
        if state then
            godConnection = hum:GetPropertyChangedSignal("Health"):Connect(function()
                if hum.Health < math.huge then hum.Health = math.huge end
            end)
        else
            if godConnection then godConnection:Disconnect() end
            hum.Health = 100
        end
    end
end)

-- üöÄ Infinitejump
local jumpConnection = nil
createToggle("Infinitejump", function(state)
    if jumpConnection then jumpConnection:Disconnect(); jumpConnection = nil end
    if state then
        jumpConnection = UserInputService.JumpRequest:Connect(function()
            local char = LocalPlayer.Character
            local hum = char and char:FindFirstChildOfClass("Humanoid")
            if hum then hum:ChangeState(Enum.HumanoidStateType.Jumping) end
        end)
    end
end)

-- üëª NoClip com revers√£o
local noclipConn = nil
createToggle("NoClip", function(state)
    if noclipConn then noclipConn:Disconnect(); noclipConn = nil end
    if state then
        noclipConn = RunService.Stepped:Connect(function()
            if LocalPlayer.Character then
                for _,v in ipairs(LocalPlayer.Character:GetDescendants()) do
                    if v:IsA("BasePart") then v.CanCollide = false end
                end
            end
        end)
    else
        if LocalPlayer.Character then
            for _,v in ipairs(LocalPlayer.Character:GetDescendants()) do
                if v:IsA("BasePart") then v.CanCollide = true end
            end
        end
    end
end)

-- üéõÔ∏è Slider de Velocidade estilo volume
local speedLabel = Instance.new("TextLabel", frame)
speedLabel.Size = UDim2.new(0, 220, 0, 20)
speedLabel.Position = UDim2.new(0, 20, 0, y + 5)
speedLabel.Text = "Velocidade: 0%"
speedLabel.Font = Enum.Font.SourceSans
speedLabel.TextSize = 16
speedLabel.TextColor3 = Color3.new(1,1,1)
speedLabel.BackgroundTransparency = 1
speedLabel.TextXAlignment = Enum.TextXAlignment.Left

local speedSlider = Instance.new("TextButton", frame)
speedSlider.Size = UDim2.new(0, 220, 0, 20)
speedSlider.Position = UDim2.new(0, 20, 0, y + 30)
speedSlider.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
speedSlider.Text = ""
speedSlider.AutoButtonColor = false
speedSlider.BorderSizePixel = 0

local speedFill = Instance.new("Frame", speedSlider)
speedFill.BackgroundColor3 = Color3.fromRGB(0,255,128)
speedFill.Size = UDim2.new(0, 0, 1, 0)
speedFill.Position = UDim2.new(0, 0, 0, 0)
speedFill.BorderSizePixel = 0

Instance.new("UICorner", speedSlider).CornerRadius = UDim.new(0, 6)
Instance.new("UICorner", speedFill).CornerRadius = UDim.new(0, 6)

y = y + 60 -- Atualiza valor para o pr√≥ximo componente

local function updateSpeed(inputPos)
    local rel = (inputPos.X - speedSlider.AbsolutePosition.X) / speedSlider.AbsoluteSize.X
    rel = math.clamp(rel, 0, 1)
    speedFill.Size = UDim2.new(rel, 0, 1, 0)

    local percent = math.floor(rel * 200)
    speedLabel.Text = "Velocidade: " .. percent .. "%"

    currentSpeed = 16 + ((320 - 16) * (percent / 200)) -- 0% = 16, 200% = 320
end

speedSlider.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        updateSpeed(input.Position)
    end
end)

speedSlider.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        speedSlider.InputBegan:Connect(function(input2)
            if input2.UserInputType == Enum.UserInputType.MouseButton1 or input2.UserInputType == Enum.UserInputType.Touch then
                local moveConnection
                moveConnection = UserInputService.InputChanged:Connect(function(moveInput)
                    if moveInput == input2 then updateSpeed(moveInput.Position) end
                end)
                input2.Changed:Connect(function()
                    if input2.UserInputState == Enum.UserInputState.End and moveConnection then
                        moveConnection:Disconnect()
                    end
                end)
            end
        end)
    end
end)

-- üåÄ Refor√ßar velocidade mesmo com tool equipada
if speedConnection then speedConnection:Disconnect() end
speedConnection = RunService.RenderStepped:Connect(function()
    local hum = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
    if hum and hum.WalkSpeed ~= currentSpeed then
        hum.WalkSpeed = currentSpeed
    end
end)

-- üß† ESP
createToggle("ESP", function(state)
    for _,player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local char = player.Character
            if state then
                if not char:FindFirstChild("ESP_H") then
                    local h = Instance.new("Highlight", char)
                    h.Name = "ESP_H"
                    h.FillColor = Color3.fromRGB(255,0,0)
                    h.OutlineColor = h.FillColor
                    h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                end
                local head = char:FindFirstChild("Head")
                if head and not head:FindFirstChild("ESP_Tag") then
                    local tag = Instance.new("BillboardGui", head)
                    tag.Name = "ESP_Tag"
                    tag.Size = UDim2.new(0,200,0,25)
                    tag.Adornee = head
                    tag.AlwaysOnTop = true
                    tag.StudsOffset = Vector3.new(0,2,0)
                    local label = Instance.new("TextLabel", tag)
                    label.Size = UDim2.new(1,0,1,0)
                    label.BackgroundTransparency = 1
                    label.Text = player.Name
                    label.TextColor3 = Color3.fromRGB(255,0,0)
                    label.Font = Enum.Font.SourceSansBold
                    label.TextSize = 16
                end
            else
                local h = char:FindFirstChild("ESP_H") if h then h:Destroy() end
                local head = char:FindFirstChild("Head")
                if head then
                    local tag = head:FindFirstChild("ESP_Tag") if tag then tag:Destroy() end
                end
            end
        end
    end
end)

-- üéöÔ∏è Slider de transpar√™ncia do fundo
local transparencyLabel = Instance.new("TextLabel", frame)
transparencyLabel.Size = UDim2.new(0, 220, 0, 20)
transparencyLabel.Position = UDim2.new(0, 20, 0, y + 5)
transparencyLabel.Text = "Transpar√™ncia: 30%"
transparencyLabel.Font = Enum.Font.SourceSans
transparencyLabel.TextSize = 16
transparencyLabel.TextColor3 = Color3.new(1,1,1)
transparencyLabel.BackgroundTransparency = 1
transparencyLabel.TextXAlignment = Enum.TextXAlignment.Left

local transparencySlider = Instance.new("TextButton", frame)
transparencySlider.Size = UDim2.new(0, 220, 0, 20)
transparencySlider.Position = UDim2.new(0, 20, 0, y + 30)
transparencySlider.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
transparencySlider.Text = ""
transparencySlider.AutoButtonColor = false
transparencySlider.BorderSizePixel = 0

local sliderFill = Instance.new("Frame", transparencySlider)
sliderFill.BackgroundColor3 = Color3.fromRGB(0,255,128)
sliderFill.Size = UDim2.new(0.3, 0, 1, 0)
sliderFill.Position = UDim2.new(0, 0, 0, 0)
sliderFill.BorderSizePixel = 0

Instance.new("UICorner", transparencySlider).CornerRadius = UDim.new(0, 6)
Instance.new("UICorner", sliderFill).CornerRadius = UDim.new(0, 6)

local function updateTransparency(inputPos)
    local rel = (inputPos.X - transparencySlider.AbsolutePosition.X) / transparencySlider.AbsoluteSize.X
    rel = math.clamp(rel, 0, 1)
    sliderFill.Size = UDim2.new(rel, 0, 1, 0)
    local percent = math.floor(rel * 100)
    frame.BackgroundTransparency = rel
    transparencyLabel.Text = "Transpar√™ncia: " .. percent .. "%"
end

transparencySlider.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        updateTransparency(input.Position)
    end
end)

transparencySlider.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        transparencySlider.InputBegan:Connect(function(input2)
            if input2.UserInputType == Enum.UserInputType.MouseButton1 or input2.UserInputType == Enum.UserInputType.Touch then
                local moveConnection
                moveConnection = UserInputService.InputChanged:Connect(function(moveInput)
                    if moveInput == input2 then updateTransparency(moveInput.Position) end
                end)
                input2.Changed:Connect(function()
                    if input2.UserInputState == Enum.UserInputState.End then
                        if moveConnection then moveConnection:Disconnect() end
                    end
                end)
            end
        end)
    end
end)

-- üñäÔ∏è Cr√©ditos no rodap√©
local credit = Instance.new("TextLabel", frame)
credit.Size = UDim2.new(1, 0, 0, 20)
credit.Position = UDim2.new(0, 0, 1, -25)
credit.Text = "Script by Lucas."
credit.Font = Enum.Font.SourceSansItalic
credit.TextSize = 14
credit.TextColor3 = Color3.fromRGB(180, 180, 180)
credit.BackgroundTransparency = 1
credit.TextStrokeTransparency = 0.8
credit.TextXAlignment = Enum.TextXAlignment.Center

-- TP para jogador [vers√£o corrigida]
local tpButton = Instance.new("TextButton", frame)
tpButton.Size = UDim2.new(0, 220, 0, 35)
tpButton.Position = UDim2.new(0, 20, 0, y)
tpButton.Text = "TP para Jogador"
tpButton.Font = Enum.Font.SourceSansBold
tpButton.TextSize = 20
tpButton.TextColor3 = Color3.new(1,1,1)
tpButton.BackgroundColor3 = Color3.fromRGB(0,128,255)
y = y + 40

local dropdown = Instance.new("Frame", frame)
dropdown.Size = UDim2.new(0, 220, 0, 0)
dropdown.Position = UDim2.new(0, 20, 0, y)
dropdown.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
dropdown.BorderSizePixel = 0
dropdown.Visible = false
dropdown.AutomaticSize = Enum.AutomaticSize.Y
dropdown.ClipsDescendants = true
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local layout = Instance.new("UIListLayout", dropdown)
layout.Padding = UDim.new(0, 4)
layout.SortOrder = Enum.SortOrder.LayoutOrder

tpButton.MouseButton1Click:Connect(function()
    dropdown.Visible = not dropdown.Visible
    for _,child in ipairs(dropdown:GetChildren()) do
        if child:IsA("TextButton") then child:Destroy() end
    end
    if dropdown.Visible then
        for _,p in ipairs(Players:GetPlayers()) do
            if p ~= LocalPlayer then
                local pBtn = Instance.new("TextButton", dropdown)
                pBtn.Size = UDim2.new(1, 0, 0, 25)
                pBtn.Text = "‚û° " .. p.Name
                pBtn.Font = Enum.Font.SourceSans
                pBtn.TextSize = 16
                pBtn.TextColor3 = Color3.new(1,1,1)
                pBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
                Instance.new("UICorner", pBtn).CornerRadius = UDim.new(0, 4)

                pBtn.MouseButton1Click:Connect(function()
                    local char = LocalPlayer.Character
                    local target = p.Character
                    if char and target and char:FindFirstChild("HumanoidRootPart") and target:FindFirstChild("HumanoidRootPart") then
                        char.HumanoidRootPart.CFrame = target.HumanoidRootPart.CFrame + Vector3.new(2, 0, 2)
                    end
                end)
            end
        end
    end
end)

-- üëÄ Espectar Player
local spectateButton = Instance.new("TextButton", frame)
spectateButton.Size = UDim2.new(0, 220, 0, 35)
spectateButton.Position = UDim2.new(0, 20, 0, y)
spectateButton.Text = "üé• Espectar Jogador"
spectateButton.Font = Enum.Font.SourceSansBold
spectateButton.TextSize = 20
spectateButton.TextColor3 = Color3.new(1,1,1)
spectateButton.BackgroundColor3 = Color3.fromRGB(0, 200, 255)
y = y + 40

local cam = workspace.CurrentCamera
local originalSubject = cam.CameraSubject

local spectateList = Instance.new("Frame", frame)
spectateList.Size = UDim2.new(0, 220, 0, 0)
spectateList.Position = UDim2.new(0, 20, 0, y)
spectateList.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
spectateList.BorderSizePixel = 0
spectateList.Visible = false
spectateList.AutomaticSize = Enum.AutomaticSize.Y
spectateList.ClipsDescendants = true
Instance.new("UICorner", spectateList).CornerRadius = UDim.new(0, 6)

local listLayout = Instance.new("UIListLayout", spectateList)
listLayout.Padding = UDim.new(0, 4)
listLayout.SortOrder = Enum.SortOrder.LayoutOrder

spectateButton.MouseButton1Click:Connect(function()
    spectateList.Visible = not spectateList.Visible
    for _,child in ipairs(spectateList:GetChildren()) do
        if child:IsA("TextButton") then child:Destroy() end
    end
    if spectateList.Visible then
        for _,p in ipairs(Players:GetPlayers()) do
            if p ~= LocalPlayer then
                local btn = Instance.new("TextButton", spectateList)
                btn.Size = UDim2.new(1, 0, 0, 25)
                btn.Text = "üéØ " .. p.Name
                btn.Font = Enum.Font.SourceSans
                btn.TextSize = 16
                btn.TextColor3 = Color3.new(1,1,1)
                btn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
                Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 4)

                btn.MouseButton1Click:Connect(function()
                    local targetChar = p.Character
                    if targetChar and targetChar:FindFirstChild("Humanoid") then
                        cam.CameraSubject = targetChar:FindFirstChild("Humanoid")
                    end
                end)
            end
        end

        -- Bot√£o para parar de espectar
        local stopBtn = Instance.new("TextButton", spectateList)
        stopBtn.Size = UDim2.new(1, 0, 0, 25)
        stopBtn.Text = "‚èπÔ∏è Parar Espectar"
        stopBtn.Font = Enum.Font.SourceSansBold
        stopBtn.TextSize = 16
        stopBtn.TextColor3 = Color3.new(1,1,1)
        stopBtn.BackgroundColor3 = Color3.fromRGB(255,0,0)
        Instance.new("UICorner", stopBtn).CornerRadius = UDim.new(0, 4)

        stopBtn.MouseButton1Click:Connect(function()
            cam.CameraSubject = originalSubject
        end)
    end
end)

createTogg
